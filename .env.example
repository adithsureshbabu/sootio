#Addon url is the domain host, example sooti.info
ADDON_URL=YOUR_ADDON_URL

# Jackett Configuration
JACKETT_URL=YOUR_JACKETT_URL
JACKETT_API_KEY=JACKETT_API_KEY

# Scraper URLs (optional, you can leave these as default)
TORRENTIO_URL="https://torrentio.strem.fun"
ZILEAN_URL="https://zilean.elfhosted.com"
ZILEAN_LIMIT=200
COMET_URL="https://comet.elfhosted.com"
STREMTHRU_URL="https://stremthru.elfhosted.com"
BITMAGNET_URL="BITMAGNET_URL"
TORZNAB_LIMIT=100

# 1337x Configuration
TORRENT_1337X_URL="https://1337x.to"
TORRENT_1337X_LIMIT=200
TORRENT_1337X_MAX_PAGES=5

# BTDigg Configuration
BTDIG_URL="https://btdig.com"
BTDIG_LIMIT=50
BTDIG_MAX_PAGES=5
# Enable free rotating proxies to reduce blocking (true/false)
BTDIG_USE_PROXIES=false

# MagnetDL Configuration
MAGNETDL_URL="https://magnetdl.homes"
MAGNETDL_LIMIT=200

# --- SCRAPER ENABLE/DISABLE FLAGS --
JACKETT_ENABLED=true
TORRENTIO_ENABLED=false
ZILEAN_ENABLED=true
COMET_ENABLED=false
STREMTHRU_ENABLED=false
BITMAGNET_ENABLED=false
TORRENT_1337X_ENABLED=true
BTDIG_ENABLED=true
MAGNETDL_ENABLED=true
SCRAPER_TIMEOUT=3000
PORT=55771

# --- NEW PRIORITY SETTINGS ---
PRIORITY_PENALTY_AAC_OPUS_ENABLED=true
PRIORITY_SKIP_LOW_RESOLUTION_ENABLED=true
PRIORITY_SKIP_WEBRIP_ENABLED=true
PRIORITY_SKIP_AAC_OPUS_ENABLED=true
RD_HASH_CACHE_ENABLED=true
RD_HASH_CACHE_LIFETIME_DAYS=30
RD_BATCH_SIZE=40
RD_MAX_PASSES=5
DIVERSIFY_CODECS_ENABLED=true
TARGET_CODEC_COUNT=4
MAX_RESULTS_REMUX=2
MAX_RESULTS_WEBDL=2
MAX_RESULTS_BLURAY=3
MAX_RESULTS_WEBRIP=1
MAX_H265_RESULTS_PER_QUALITY=1
MAX_H264_RESULTS_PER_QUALITY=20
RD_DEBUG_LOGS=true

MAX_PACKS_TO_INSPECT=6
MAX_PACK_ROUNDS=2

# Real-Debrid API global rate limit (requests/min)
RD_RATE_PER_MINUTE=250
# Max concurrent Real-Debrid API requests (additional to rate limit)
RD_CONCURRENCY=4
# Cache TTL for personal files (torrents + downloads) in minutes
RD_PERSONAL_CACHE_TTL_MINUTES=5

# All-Debrid API rate limits and batching
AD_RATE_PER_MINUTE=600
AD_RATE_PER_SECOND=12
AD_CONCURRENCY=50
AD_MAX_RETRIES=5
# Number of parallel hash checks (upload → check status → delete pattern)
# Higher = faster but uses more API calls. Recommended: 10-20
AD_CHECK_CONCURRENCY=10

# --- Debrid Services Proxy Configuration ---
# HTTP/HTTPS/SOCKS5 proxy for debrid services, scrapers, and streaming link fetchers (optional)
#
# For WARP in Docker (recommended - resolves hostnames through proxy):
#   DEBRID_HTTP_PROXY=socks5h://warp:1080
#
# For WARP on host machine (use 127.0.0.1 if running outside Docker):
#   DEBRID_HTTP_PROXY=socks5h://127.0.0.1:1080
#
# For HTTP proxy:
#   DEBRID_HTTP_PROXY=http://proxy:8080
#
# Note: Use socks5h:// (not socks5://) to resolve hostnames through the proxy
DEBRID_HTTP_PROXY=
# Comma-separated list of services to proxy:
#   Debrid services: realdebrid, alldebrid, torbox, premiumize, offcloud, debrider
#   Other services: scrapers (torrent scrapers), httpstreams (streaming link fetchers)
# Use *:true to enable for all, or specify per service like: realdebrid:true,scrapers:true
# Examples:
#   DEBRID_PROXY_SERVICES=*:true                                    (proxy everything)
#   DEBRID_PROXY_SERVICES=realdebrid:true,alldebrid:true           (only debrid services)
#   DEBRID_PROXY_SERVICES=scrapers:true,httpstreams:true           (only scrapers and streaming)
DEBRID_PROXY_SERVICES=*:false

# HTTP server keep-alive & headers timeouts (ms)
HTTP_KEEPALIVE_TIMEOUT=65000
HTTP_HEADERS_TIMEOUT=72000

# --- Clustering ---
# Number of worker processes for cluster mode (use with `npm run cluster`)
# Default: 10 workers max, capped at number of CPU cores, maximum 32 workers
MAX_WORKERS=10

# --- Optional MongoDB cache ---
# Set to true to enable MongoDB-backed cache of cached magnets across providers
# IMPORTANT: MongoDB cache is REQUIRED for All-Debrid due to deprecated API endpoints
# Without MongoDB, All-Debrid will have very limited cache checking capability
MONGO_CACHE_ENABLED=false
# MongoDB connection string (only used when enabled)
# Examples:
#   Local MongoDB: mongodb://localhost:27017
#   Remote MongoDB: mongodb://user:pass@your-server.com:27017
#   MongoDB Atlas: mongodb+srv://user:pass@cluster.mongodb.net/
MONGO_URI=mongodb://localhost:27017
# Database and collection names
MONGO_DB_NAME=sootio
MONGO_CACHE_COLLECTION=magnet_cache
# TTL for cached entries (days) - entries auto-expire via TTL index
MONGO_CACHE_TTL_DAYS=180
# Force cleanup of duplicate entries on startup (normally disabled for performance)
MONGO_FORCE_CLEANUP=false
